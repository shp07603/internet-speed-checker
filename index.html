<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>My Network Score — 내 인터넷 점수는?</title>
<link href="https://fonts.googleapis.com/css2?family=Space+Mono:wght@400;700&family=Noto+Sans+KR:wght@300;400;700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="style.css">
<meta name="google-adsense-account" content="ca-pub-7374766314401295">
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7374766314401295"
     crossorigin="anonymous"></script>
</head>
<body>
<div class="wrapper">

  <header>
    <nav class="top-nav">
      <div class="nav-logo">// My Network Score</div>
      <ul class="nav-menu">
        <li><a href="index.html" class="active">홈</a></li>
        <li><a href="#about">소개</a></li>
        <li><a href="#faq">FAQ</a></li>
      </ul>
    </nav>
    <div class="hero-content">
      <h1>My Network<span> Score</span></h1>
      <p class="subtitle">다운 속도 · 업로드 속도 · 반응속도 · 연결 떨림 · 데이터 씹힘 종합 분석</p>
    </div>
  </header>

  <div class="gauge-section">
    <div class="gauge-wrap">
      <svg class="gauge-svg" viewBox="0 0 200 200">
        <circle class="gauge-bg" cx="100" cy="100" r="90" stroke-dasharray="565" stroke-dashoffset="141"/>
        <circle class="gauge-fill" id="gaugeFill" cx="100" cy="100" r="90" stroke-dasharray="565" stroke-dashoffset="565"/>
      </svg>
      <div class="gauge-center">
        <div class="gauge-value" id="gaugeVal">—</div>
        <div class="gauge-unit">MBPS</div>
        <div class="gauge-label" id="gaugeLabel">대기 중</div>
      </div>
    </div>
  </div>

  <button class="start-btn" id="startBtn" onclick="startTest()">▶ 테스트 시작</button>

  <div class="error-note" id="errorNote">
    ⚠️ <strong>일부 항목을 측정하지 못했습니다.</strong><br>
    브라우저 보안 정책(CORS)으로 외부 서버 접근이 차단될 수 있습니다.
    파일을 로컬에서 열지 말고 <strong>웹 서버에 올리거나 Chrome으로 실행</strong>하면 더 정확합니다.
    핑·패킷손실 측정은 대부분 환경에서 정상 동작합니다.
  </div>

  <div class="status-bar">
    <div class="status-dot" id="statusDot"></div>
    <span id="statusText">▶ 위 버튼을 눌러 테스트를 시작하세요</span>
  </div>

  <div class="progress-wrap" id="progressWrap">
    <div class="progress-header">
      <span id="progressLabel">준비 중...</span>
      <span id="progressPct">0%</span>
    </div>
    <div class="progress-bar-bg">
      <div class="progress-bar-fill" id="progressFill"></div>
    </div>
  </div>

  <div class="cards">
    <div class="card" id="card-dl">
      <span class="card-icon">⬇️</span>
      <div class="card-label">다운 속도</div>
      <div class="card-value" id="val-dl">—</div>
      <div class="card-sub" id="sub-dl">Mbps · 파일 받는 속도</div>
    </div>
    <div class="card" id="card-ul">
      <span class="card-icon">⬆️</span>
      <div class="card-label">업로드 속도</div>
      <div class="card-value" id="val-ul">—</div>
      <div class="card-sub" id="sub-ul">Mbps · 파일 보내는 속도</div>
    </div>
    <div class="card" id="card-ping">
      <span class="card-icon">⚡</span>
      <div class="card-label">반응속도</div>
      <div class="card-value" id="val-ping">—</div>
      <div class="card-sub" id="sub-ping">ms · 낮을수록 빠릿함</div>
    </div>
    <div class="card" id="card-jitter">
      <span class="card-icon">〰️</span>
      <div class="card-label">연결 떨림</div>
      <div class="card-value" id="val-jitter">—</div>
      <div class="card-sub" id="sub-jitter">ms · 낮을수록 안정적</div>
    </div>
    <div class="card" id="card-loss">
      <span class="card-icon">💨</span>
      <div class="card-label">데이터 씹힘</div>
      <div class="card-value" id="val-loss">—</div>
      <div class="card-sub" id="sub-loss">% · 낮을수록 좋음</div>
    </div>
    <div class="card" id="card-stability">
      <span class="card-icon">🔒</span>
      <div class="card-label">연결 품질</div>
      <div class="card-value" id="val-stability">—</div>
      <div class="card-sub" id="sub-stability">/ 100점</div>
    </div>
  </div>

  <div class="chart-section">
    <div class="chart-title">실시간 반응속도 히스토리 (최근 30회)</div>
    <div class="ping-chart" id="pingChart"></div>
    <div class="chart-legend">
      <span><span class="ld" style="background:var(--accent)"></span>빠릿함 ≤80ms</span>
      <span><span class="ld" style="background:var(--warn)"></span>약간 느림 ≤200ms</span>
      <span><span class="ld" style="background:var(--danger)"></span>느림 &gt;200ms</span>
      <span><span class="ld" style="background:rgba(255,68,68,.4); border:1px dashed #f44"></span>씹힘 발생</span>
    </div>
  </div>

  <div class="history-section">
    <div class="history-header">
      <h2>📜 나의 측정 기록</h2>
      <button class="clear-btn" onclick="clearHistory()">기록 초기화</button>
    </div>
    <div class="table-wrap">
      <table class="history-table">
        <thead>
          <tr>
            <th>날짜</th>
            <th>IP</th>
            <th>다운로드</th>
            <th>업로드</th>
            <th>핑</th>
            <th>등급</th>
          </tr>
        </thead>
        <tbody id="historyBody">
          <!-- JS will populate this -->
          <tr><td colspan="6" style="text-align:center; padding:20px; color:var(--muted);">아직 기록이 없습니다.</td></tr>
        </tbody>
      </table>
    </div>
  </div>

  <div class="modal-overlay" id="modalOverlay">
    <canvas id="effectCanvas"></canvas>
    <div class="result-box" id="resultBox">
      <button class="close-btn" onclick="closeModal()">×</button>
      <div class="result-grade" id="resultGrade"></div>
      <div class="result-desc" id="resultDesc"></div>
      <div class="result-tips" id="resultTips"></div>
    </div>
  </div>

  <!-- Rich Content Section for AdSense -->
  <div class="content-section" id="about">
    <h2>인터넷 속도 측정, 왜 중요할까요?</h2>
    <p>
      인터넷 속도는 단순히 웹페이지가 얼마나 빨리 열리는지를 넘어, <strong>온라인 게임의 승패, 4K 스트리밍의 버퍼링, 화상 회의의 끊김</strong>을 결정짓는 핵심 요소입니다.
      My Network Score는 단순한 다운로드 속도뿐만 아니라, 실제 체감 성능에 영향을 미치는 <strong>반응속도(Ping), 지터(Jitter), 패킷 손실률(Loss)</strong>까지 정밀하게 분석하여
      당신의 네트워크 상태를 객관적인 점수로 환산해 드립니다.
    </p>

    <div class="info-grid">
      <div class="info-item">
        <h3>⚡ 반응속도 (Ping)</h3>
        <p>
          내 컴퓨터가 서버에 신호를 보내고 응답을 받는 데 걸리는 시간입니다.
          <strong>낮을수록 좋습니다.</strong> 10ms 이하면 프로게이머급, 50ms 이하면 쾌적, 100ms 이상이면 게임에서 렉을 느낄 수 있습니다.
        </p>
      </div>
      <div class="info-item">
        <h3>〰️ 지터 (Jitter)</h3>
        <p>
          반응속도가 얼마나 일정하게 유지되는지를 나타냅니다.
          핑이 10ms였다가 갑자기 100ms로 튀면 지터 값이 높아집니다.
          <strong>낮을수록 안정적입니다.</strong> 지터가 높으면 게임 캐릭터가 순간이동하거나 영상 통화가 끊깁니다.
        </p>
      </div>
      <div class="info-item">
        <h3>💨 패킷 손실 (Loss)</h3>
        <p>
          전송된 데이터 중 목적지에 도착하지 못하고 사라진 비율입니다.
          <strong>0%가 가장 이상적입니다.</strong> 1%라도 발생하면 심각한 네트워크 장애 징후일 수 있으며, 인터넷 전화가 끊기거나 다운로드 파일이 깨질 수 있습니다.
        </p>
      </div>
    </div>
  </div>

  <div class="content-section" id="faq">
    <h2>자주 묻는 질문 (FAQ)</h2>
    <details>
      <summary>Q. 측정 결과가 요금제 속도보다 낮게 나옵니다.</summary>
      <p>A. 와이파이(Wi-Fi)를 사용 중이라면 공유기와의 거리, 벽, 다른 기기의 간섭으로 속도가 저하될 수 있습니다. 가장 정확한 측정은 PC에 랜선을 직접 연결하는 것입니다. 또한, 구형 공유기나 랜카드 드라이버 문제일 수도 있습니다.</p>
    </details>
    <details>
      <summary>Q. 핑(Ping)을 줄이는 방법이 있나요?</summary>
      <p>A. 1. 유선 연결(LAN 케이블)을 사용하세요. 2. 공유기를 최신 펌웨어로 업데이트하세요. 3. 백그라운드에서 다운로드 중인 프로그램(Steam, 토렌트 등)을 종료하세요. 4. VPN을 끄고 측정해보세요.</p>
    </details>
    <details>
      <summary>Q. 이 사이트는 무료인가요?</summary>
      <p>A. 네, 100% 무료이며 별도의 회원가입 없이 무제한으로 이용할 수 있습니다.</p>
    </details>
  </div>

  <footer>
    <div class="footer-content">
      <div class="footer-links">
        <a href="terms.html">이용약관</a>
        <a href="privacy.html">개인정보처리방침</a>
      </div>
      <p class="copyright">&copy; 2024 My Network Score. All rights reserved.</p>
      <p class="disclaimer">본 서비스의 측정 결과는 네트워크 환경에 따라 달라질 수 있으며, 법적인 효력을 갖지 않습니다.</p>
    </div>
  </footer>

</div>
<script src="main.js"></script>
</body>
</html>